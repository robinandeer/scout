// +-------------------------------------------------------------------+
// |  Panel Layout Component
// |  ------------------------
// |  This component provides styles to set up a basic panel layout.
// |
// |  'Fixed' headers offer optional flexibility for content that needs
// |  to stay always *on top*.
// |
// |  Usage:
// |    <div class="panel__wrapper">
// |      <div class="panel--menu">...</div>
// |
// |      <div class="panel--sidebar">...</div>
// |
// |      <div class="panel">...</div>
// |    </div>
// |-------------------------------------------------------------------+
// |  Known limitations:
// |  - Vertical panels only support 50% or manual height in Webkit.
// +-------------------------------------------------------------------+
// Public API
$menu-width: 80px;
$sidebar-width: 250px;
$sidebar-min-width: 300px;

// Container for wrapping all panel elements
%panel__wrapper,
.panel__wrapper {
  @extend %fill-up;

  // Required
  @include display(flex);
}

.panel__wrapper--vertical {
  @extend %panel__wrapper;

  // Requried
  @include flex-direction(column);
}

// +-------------------------------------------------------------------+
// |  Panel type classes
// +-------------------------------------------------------------------+
// Induvidual base panel class
.panel {
  // Required
  @include flex-basis(100%);
  height: 100%;
  overflow-y: auto;
  position: relative;  // To contain absolute-positioned child elements

  &:last-of-type {
    border-right: 0;
  }
}

.panel--vertical {
  @include flex-basis(100%);
  overflow-y: auto;
  overflow-x: hidden;
  height: 50%;  // Until I get it working in WebKit

  &:not(:last-child) {
    border-bottom: 1px solid $dark-gray;
  }
}

// Special menu panel, usually placed far left
.panel--menu {
  @extend .panel;

  // Recommended
  max-width: $menu-width;
  border-right: 0;

  // Default styles
  background-color: #23313b;
}

.panel--sidebar {
  @extend .panel;

  // Required
  @include flex-basis($sidebar-width);
  min-width: $sidebar-min-width;
}
